# **Linux `pkill` 命令教程文档**

`pkill` 用于 **根据进程名称或匹配规则结束进程**。
 它是 `kill` 的增强版，不需要手动查 PID，使用更方便。

在日常运维中，`pkill` 常被用于：

- 按名称杀掉一类进程
- 按用户杀进程
- 按 TTY 杀进程
- 发送信号（不止是 kill，还可暂停、重载...）

------

# **一、基本语法**

```
pkill [选项] <匹配规则>
```

常用选项：

| 选项          | 含义                       |
| ------------- | -------------------------- |
| **-f**        | 按完整命令行匹配（最常用） |
| **-u <用户>** | 按用户匹配                 |
| **-t**        | 按 TTY 匹配                |
| **-9**        | 发送 SIGKILL（强制杀死）   |
| **-HUP**      | 发送 HUP 信号（重载配置）  |
| **-STOP**     | 暂停进程                   |
| **-CONT**     | 恢复进程                   |

------

# **二、基础用法示例**

## **1. 按进程名结束进程（最常用）**

```
pkill nginx
```

等价于：

```
kill $(pgrep nginx)
```

------

## **2. 强制杀死某名称进程**

```
pkill -9 java
```

------

## **3. 按完整命令行匹配**

如果进程名相同但参数不同，使用 `-f`：

```
pkill -f "python app.py"
```

------

## **4. 按用户杀进程**

杀掉 user1 的所有进程：

```
pkill -u user1
```

强制杀：

```
pkill -9 -u user1
```

------

## **5. 按 TTY 杀进程**

杀掉在 pts/2 上运行的所有程序：

```
pkill -t pts/2
```

适用于清理挂死的终端连接。

------

# **三、实际场景示例**

------

## **1. 重载 nginx 配置（用 HUP 而不是重启）**

```
pkill -HUP nginx
```

等效于 `nginx -s reload`。

------

## **2. 暂停所有 Python 程序**

```
pkill -STOP python
```

------

## **3. 恢复所有 Python 程序**

```
pkill -CONT python
```

------

## **4. 杀掉包含关键字的 Java 服务**

```
pkill -f "springboot-app.jar"
```

------

## **5. 清理所有卡死的 SSH 会话**

```
pkill -t pts/*
```

------

# **四、pkill 与 killall 的区别**

| 命令        | 主要用途             | 是否支持正则匹配 | 是否按命令行匹配  |
| ----------- | -------------------- | ---------------- | ----------------- |
| **pkill**   | 根据名称/正则杀进程  | ✔                | ✔（`-f`）         |
| **killall** | 根据精确进程名杀进程 | ✖（不支持正则）  | ✖（不能匹配参数） |

------

# **五、温馨提示**

⚠ **慎用 `pkill -9`，可能杀死大量进程，影响服务。**
 ⚠ 尽量先用默认信号（15 - SIGTERM），不成功再用 9。

------

# **六、总结**

`pkill` 是 `kill` 的更高级方式，用于根据名称模式匹配进程并发送信号。

最常用命令：

```
pkill nginx              # 按名称终止
pkill -9 nginx           # 强制终止
pkill -f "python app.py" # 按完整命令行匹配
pkill -HUP nginx         # 重载配置
pkill -u user1           # 杀用户所有进程
pkill -STOP python       # 暂停
pkill -CONT python       # 恢复
```

