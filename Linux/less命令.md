# 📘 Linux `less` 命令教程文档

## 一、命令简介

`less` 是一个 **分页查看文件内容** 的工具。
 特点：

- 可 **向前/向后翻页**
- 支持 **搜索**（正向 `/`、反向 `?`）
- 打开大文件速度快（不一次性加载）
- 可查看日志、配置、代码等文本文件
- 可接收管道输入（例如 `cat file | less`）

相比 `cat`：
 👉 `cat` 一次性输出全部内容，不适合大文件
 👉 `less` 可翻页、查找，更适合查看日志和长文档

------

## 二、命令格式

```bash
less [选项] 文件
```

或常见用法：

```bash
command | less
```

------

## 三、常用选项说明

| 选项   | 作用                                 |
| ------ | ------------------------------------ |
| `-N`   | 显示行号                             |
| `-S`   | 不自动换行（长行横向滚动）           |
| `-i`   | 搜索时忽略大小写                     |
| `-I`   | 搜索时智能大小写（有大写字母时区分） |
| `-R`   | 显示彩色输出（常用于日志）           |
| `+F`   | 类似 `tail -f` 自动刷新              |
| `+<n>` | 启动时定位到第 `n` 行                |
| `-?`   | 查看帮助                             |

------

## 四、基础操作（重点）

进入 `less` 后常用操作如下👇

### 📌移动与翻页

| 操作       | 动作                     |
| ---------- | ------------------------ |
| `空格`     | 向下翻一页               |
| `b`        | 向上翻一页               |
| `回车`     | 向下移动一行             |
| `k` 或 `↑` | 上一行                   |
| `j` 或 `↓` | 下一行                   |
| `g`        | 到文件开头               |
| `G`        | 到文件结尾               |
| `p`        | 转到指定百分比（如 50p） |
| `<n>g`     | 跳到第 n 行              |

------

## 五、搜索功能（非常常用）

### 正向搜索

```bash
/关键字
```

按 `n` 查找下一个
 按 `N` 查找上一个

------

### 反向搜索

```bash
?关键字
```

按 `n` 查找上一个
 按 `N` 查找下一个

------

### 高级搜索选项

忽略大小写：

```bash
less -i file.txt
```

智能大小写（默认）：

- 搜索词有小写 → 忽略大小写
- 搜索词有大写 → 区分大小写

------

## 六、退出 `less`

```bash
q
```

------

## 七、显示控制

### 查看文件行号

```bash
less -N file.txt
```

在窗口左侧显示行号。

------

### 不换行（横向滚动）

```bash
less -S file.txt
```

适合查看长行（如 JSON、日志）。

------

### 显示 ANSI 彩色（日志常用）

```bash
less -R access.log
```

适合含颜色输出的日志或命令结果。

------

## 八、与管道结合（非常常用）

### 查看命令输出

```bash
dmesg | less
journalctl -u nginx | less
kubectl describe pod xxx | less
```

### 查看文件内容并搜索

```bash
cat access.log | less -R
```

------

## 九、查看日志动态更新

### `+F` 模式（相当于 `tail -f`）

```bash
less +F app.log
```

退出实时模式按：

```
Ctrl + C
```

然后可继续翻页、搜索。

------

## 十、常见场景示例

### 1. 查看大日志文件

```bash
less -R /var/log/syslog
```

### 2. 查看 JSON 配置文件（不换行）

```bash
less -S config.json
```

### 3. 跳转到第 100 行

```bash
less +100 file.txt
```

### 4. 查看文件并直接搜索

```bash
less +/error app.log
```

### 5. 查找 CPU 信息

```bash
cat /proc/cpuinfo | less
```

------

## 十一、快捷键速查表（最常用）

| 功能       | 快捷键  |
| ---------- | ------- |
| 下一页     | `Space` |
| 上一页     | `b`     |
| 向下看一行 | `j`     |
| 向上看一行 | `k`     |
| 跳到开头   | `g`     |
| 跳到结尾   | `G`     |
| 搜索       | `/`     |
| 反向搜索   | `?`     |
| 下一个匹配 | `n`     |
| 上一个匹配 | `N`     |
| 退出       | `q`     |

------

## 十二、less vs cat vs more 对比

| 命令   | 特点                                          |
| ------ | --------------------------------------------- |
| `cat`  | 一次性输出全部内容                            |
| `more` | 可以翻页，但功能有限                          |
| `less` | 最强的查看器：翻页 + 搜索 + 彩色 + 大文件高效 |

------

## 十三、总结

`less` 是 Linux 中文本查看最强工具，特点：

- 查看大文件不卡顿
- 强大的搜索能力
- 支持跳转行、滚动、彩色显示
- 适合日志分析、配置查看、代码阅读

