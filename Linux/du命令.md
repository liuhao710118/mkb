`du`（**disk usage**）命令用于查看 Linux/Unix 系统中文件或目录占用的磁盘空间大小。
 它常与 `df` 命令（查看文件系统剩余空间）配合使用。

------

## 🧭 基本语法

```bash
du [选项] [文件或目录...]
```

若不指定目录，默认统计当前目录及其子目录的磁盘使用情况。

------

## 📦 常用选项说明

| 选项                | 说明                                                         |
| ------------------- | ------------------------------------------------------------ |
| `-h`                | 以“人类可读”的方式显示（自动换算为 KB、MB、GB）              |
| `-s`                | 仅显示指定目录或文件的总大小（不递归）                       |
| `-a`                | 显示目录下所有文件和子目录的大小（默认只统计目录）           |
| `--max-depth=N`     | 限制统计深度；例如 `--max-depth=1` 只显示当前目录及第一层子目录 |
| `-c`                | 最后显示总计（total）                                        |
| `-d N`              | 与 `--max-depth=N` 相同（GNU du 支持）                       |
| `--apparent-size`   | 显示文件的“表面大小”（而非磁盘实际占用空间）                 |
| `--exclude=PATTERN` | 排除符合模式的文件或目录                                     |
| `-x`                | 仅统计当前文件系统（不跨分区）                               |

------

## 💡 常用示例

### 1️⃣ 查看当前目录及子目录的大小

```bash
du -h
```

### 2️⃣ 只看当前目录的总大小

```bash
du -sh
```

### 3️⃣ 查看 `/var/log` 下每个子目录的大小

```bash
du -h --max-depth=1 /var/log
```

### 4️⃣ 查看某个文件的大小

```bash
du -h /etc/passwd
```

### 5️⃣ 显示当前目录各子目录及总计

```bash
du -ch --max-depth=1
```

### 6️⃣ 排除某个目录（例如 node_modules）

```bash
du -h --exclude="node_modules"
```

------

## ⚙️ 实用组合命令

### 按大小排序列出目录（最常用之一）

```bash
du -h --max-depth=1 | sort -hr
```

### 找出占用空间最大的 10 个目录

```bash
du -h --max-depth=1 / | sort -hr | head -n 10
```

------

## 🧠 额外提示

- `du` 显示的是**磁盘块实际占用**（通常以 1K 为单位），
   与 `ls -lh` 显示的文件“逻辑大小”可能不同（受稀疏文件或硬链接影响）。
- 若统计网络挂载目录（如 NFS），建议加上 `-x` 以避免跨文件系统。

------

是否希望我帮你总结一份常用 `du` 命令速查表（适合贴在终端或运维手册里）？