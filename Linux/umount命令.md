## ä¸€ã€umount æ˜¯å¹²ä»€ä¹ˆçš„

ğŸ‘‰ **å¸è½½ï¼ˆå–æ¶ˆæŒ‚è½½ï¼‰æ–‡ä»¶ç³»ç»Ÿ**
ğŸ‘‰ æ–­å¼€ **ç›®å½• â†” è®¾å¤‡** çš„æ˜ å°„
ğŸ‘‰ å¸è½½åç›®å½•ä»åœ¨ï¼Œä½†ä¸èƒ½è®¿é—®ç£ç›˜å†…å®¹

------

## äºŒã€æœ€åŸºæœ¬ç”¨æ³•

### 1ï¸âƒ£ æŒ‰æŒ‚è½½ç‚¹å¸è½½ï¼ˆæ¨èï¼‰

```bash
umount /data
```

------

### 2ï¸âƒ£ æŒ‰è®¾å¤‡å¸è½½

```bash
umount /dev/sdb1
```

------

## ä¸‰ã€æŸ¥çœ‹å½“å‰æŒ‚è½½çŠ¶æ€

```bash
df -Th
mount
lsblk
```

------

## å››ã€å¸¸ç”¨å‚æ•°ï¼ˆè¿ç»´é«˜é¢‘ï¼‰

| å‚æ•° | ä½œç”¨                      |
| ---- | ------------------------- |
| `-a` | å¸è½½ `/etc/mtab` ä¸­çš„æ‰€æœ‰ |
| `-l` | æ‡’å¸è½½ï¼ˆå¸¸ç”¨ï¼‰            |
| `-f` | å¼ºåˆ¶å¸è½½ï¼ˆç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼‰  |
| `-r` | å¤±è´¥æ—¶é‡æ–°åªè¯»æŒ‚è½½        |

------

## äº”ã€æœ€å¸¸è§é—®é¢˜ï¼šdevice is busy

### æŠ¥é”™ï¼š

```
umount: /data: target is busy
```

### åŸå› ï¼š

- æœ‰è¿›ç¨‹åœ¨ä½¿ç”¨è¯¥ç›®å½•
- shell å½“å‰å°±åœ¨è¯¥ç›®å½•

------

### è§£å†³æ­¥éª¤ï¼ˆæ ‡å‡†æµç¨‹ï¼‰

#### 1ï¸âƒ£ é€€å‡ºç›®å½•

```bash
cd /
```

#### 2ï¸âƒ£ æ‰¾å‡ºå ç”¨è¿›ç¨‹

```bash
lsof +D /data
```

æˆ–

```bash
fuser -m /data
```

#### 3ï¸âƒ£ ç»“æŸè¿›ç¨‹ï¼ˆè°¨æ…ï¼‰

```bash
kill -9 PID
```

------

### 4ï¸âƒ£ æ‡’å¸è½½ï¼ˆæ¨èï¼‰

```bash
umount -l /data
```

ğŸ“Œ å«ä¹‰ï¼š
ç­‰è¿›ç¨‹é‡Šæ”¾åè‡ªåŠ¨å¸è½½ï¼Œä¸ä¼šç«‹åˆ»ä¸­æ–­

------

## å…­ã€ç‰¹æ®Šåœºæ™¯

### ğŸ”¹ å¸è½½ NFS / ç½‘ç»œç›˜

```bash
umount -f /mnt
```

------

### ğŸ”¹ å¸è½½ ISO

```bash
umount /mnt
```

------

### ğŸ”¹ æ‰¹é‡å¸è½½

```bash
umount -a
```

âš ï¸ **ç”Ÿäº§ç¯å¢ƒæ…ç”¨**

------

## ä¸ƒã€éªŒè¯æ˜¯å¦å¸è½½æˆåŠŸ

```bash
df -Th | grep data
mount | grep data
lsblk
```

------

## å…«ã€å¸¸è§è¯¯åŒºï¼ˆé‡ç‚¹ï¼‰

âŒ `unmount`ï¼ˆä¸å­˜åœ¨ï¼‰
âœ… `umount`

âŒ å¼ºåˆ¶å¸è½½ç³»ç»Ÿç›˜
âŒ åœ¨å½“å‰ç›®å½•å¸è½½è‡ªå·±

------

## ä¹ã€é€ŸæŸ¥æ€»ç»“

```bash
umount /data
umount /dev/sdb1
umount -l /data
lsof +D /data
```

------

