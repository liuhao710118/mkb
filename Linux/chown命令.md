`chown` 是 Linux/Unix 系统中**修改文件或目录的属主（owner）和属组（group）**的命令，常用于权限管理。

------

## 一、基本语法

```bash
chown [选项] 用户[:组] 文件或目录
```

- **用户**：新的属主（如 `root`、`www`）
- **组**：新的属组（如 `root`、`www`）
- `:` 或 `.` 都可用于分隔用户和组（推荐用 `:`）

------

## 二、常见用法示例

### 1️⃣ 只修改属主

```bash
chown user1 file.txt
```

把 `file.txt` 的属主改为 `user1`，属组不变。

------

### 2️⃣ 同时修改属主和属组

```bash
chown user1:group1 file.txt
```

------

### 3️⃣ 只修改属组

```bash
chown :group1 file.txt
```

------

### 4️⃣ 递归修改目录及其所有内容（**最常用**）

```bash
chown -R user1:group1 /data/app
```

👉 会影响目录下**所有子目录和文件**，操作前要确认路径无误。

------

### 5️⃣ 使用 UID / GID

```bash
chown 1001:1001 file.txt
```

适用于用户不存在但 UID 已知的场景（如容器、NFS）。

------

### 6️⃣ 保持符号链接本身（不跟随）

```bash
chown -h user1:group1 symlink
```

默认 `chown` 会修改符号链接指向的文件。

------

## 三、常用选项速查

| 选项               | 作用                   |
| ------------------ | ---------------------- |
| `-R`               | 递归修改目录           |
| `-v`               | 显示修改过程           |
| `-c`               | 仅当发生更改时显示     |
| `-h`               | 修改符号链接本身       |
| `--reference=FILE` | 参考其他文件的属主属组 |

示例：

```bash
chown --reference=a.txt b.txt
```

------

## 四、查看修改结果

```bash
ls -l file.txt
```

输出示例：

```text
-rw-r--r-- 1 user1 group1 1024 file.txt
```

------

## 五、常见注意事项 ⚠️

- ❗ 普通用户**只能修改自己拥有的文件**
- ❗ 修改属主通常需要 `root` 权限（`sudo chown ...`）
- ❗ `-R` 用错路径可能造成**大范围权限问题