# **Linux `htop` 命令教程文档**

`htop` 是一个比 `top` 更增强、更美观的交互式系统监控工具。
 它能实时显示 **CPU、内存、进程、负载、线程、I/O** 等信息，且支持 **进程搜索、排序、杀死进程、树状视图** 等高级操作。

相比 `top`：

- 界面彩色、信息更全面
- 操作更友好（可使用键盘方向键）
- 能查看 CPU 核心利用率
- 能查看进程树
- 支持交互式过滤和管理进程

------

# **一、安装方法**

多数发行版默认不自带 `htop`，需手动安装：

## CentOS / RHEL

```
yum install htop -y
```

## Ubuntu / Debian

```
apt install htop -y
```

------

# **二、基本命令语法**

```
htop [选项]
```

直接输入：

```
htop
```

即可进入监控界面。

------

# **三、界面结构说明**

`htop`界面分为三部分：

------

## **1. 顶部资源监控栏**

### 包括：

- 每个 CPU 核心占用率（彩色条）
- 内存使用情况
- Swap 交换区情况
- 负载（Load average）
- 运行时间（Uptime）

### **颜色含义（非常重要）**

#### CPU：

- **蓝色**：低优先级进程（nice）
- **绿色**：用户进程
- **红色**：系统内核占用
- **橙色**：硬中断（IRQ）
- **洋红色**：软中断（soft IRQ）
- **灰色**：IOwait（等待磁盘 I/O）

#### 内存 / Swap：

- **绿色**：进程使用
- **蓝色**：缓存（cache）
- **黄色**：缓冲（buffer）

------

## **2. 中间进程列表**

类似 `top`，但更美观、可滚动。

常见字段：

| 字段    | 含义                   |
| ------- | ---------------------- |
| PID     | 进程 ID                |
| USER    | 所属用户               |
| PRI     | 优先级                 |
| NI      | Nice 值                |
| VIRT    | 虚拟内存大小           |
| RES     | 常驻内存（实际使用）   |
| SHR     | 共享内存               |
| S       | 状态（S 睡眠，R 运行） |
| CPU%    | CPU 使用率             |
| MEM%    | 内存使用率             |
| TIME+   | 累计 CPU 时间          |
| COMMAND | 执行命令/程序名称      |

------

## **3. 底部操作菜单**

常用快捷键说明：

| 按键    | 功能                               |
| ------- | ---------------------------------- |
| **F1**  | 帮助                               |
| **F2**  | 设置菜单（颜色、显示字段、主题等） |
| **F3**  | 搜索进程                           |
| **F4**  | 过滤（非常有用）                   |
| **F5**  | 切换进程树（Tree view）            |
| **F6**  | 排序方式选择                       |
| **F9**  | 杀死进程（kill）                   |
| **F10** | 退出 htop                          |

------

# **四、常用功能与操作**

## **1. 搜索进程**

按：

```
F3
```

输入关键词，例如：

```
nginx
```

------

## **2. 按名称过滤进程**

按：

```
F4
```

例如过滤：

```
java
```

只显示 java 的进程。

------

## **3. 按 CPU / 内存排序**

按：

```
F6
```

选择你想排序的字段，例如：

```
CPU%
MEM%
TIME+
```

------

## **4. 树状结构查看进程（父子关系）**

按：

```
F5
```

可查看：

- systemd -> 各服务的子进程
- nginx master -> worker
- java 父进程 -> 子线程

------

## **5. 杀死进程**

选中进程后按：

```
F9
```

选择信号，例如：

- `15` 正常停止
- `9` 强制终止

------

## **6. 配置界面（非常强大）**

按：

```
F2
```

可以设置：

- 显示/隐藏字段
- 自定义排序
- 改变配色方案
- 显示 CPU 温度（部分系统）
- 启用/禁用 I/O 显示

------

# **五、命令行常用参数**

| 参数      | 功能               |
| --------- | ------------------ |
| `-d 秒`   | 设置刷新时间间隔   |
| `-s 字段` | 启动时按字段排序   |
| `-u 用户` | 只显示指定用户进程 |
| `-p pid`  | 只监控指定 PID     |

示例：

## **1. 每 2 秒刷新一次**

```
htop -d 20
```

`-d` 单位是 **1/10 秒** → 20 = 2 秒

------

## **2. 只查看特定用户的进程**

```
htop -u root
```

------

## **3. 只显示指定进程**

```
htop -p 1234
```

------

# **六、与 top 的区别（对比总结）**

| 特性                 | top  | htop             |
| -------------------- | ---- | ---------------- |
| 彩色界面             | ❌ 无 | ✔️ 有             |
| 进程树               | ❌ 无 | ✔️ 有             |
| 可滚动               | ❌ 无 | ✔️ 上下左右可滚动 |
| 交互搜索/过滤        | ❌ 无 | ✔️ 有             |
| 修改优先级           | ✔️    | ✔️                |
| 终止进程             | ✔️    | ✔️                |
| CPU/内存清晰图形显示 | ❌ 无 | ✔️ 有             |

------

# **七、总结**

`htop` 是 Linux 运维人员非常常用的实时监控工具，它比 `top` 更直观、更强大。

常用快捷键记住这些即可：

```
F3 —— 搜索进程
F4 —— 过滤
F5 —— 树状结构
F6 —— 排序
F9 —— 杀进程
F10 —— 退出
```

